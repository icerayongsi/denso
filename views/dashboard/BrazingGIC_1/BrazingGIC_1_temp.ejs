<%- include('BrazingGIC_1_partials/BrazingGIC_1_header') -%>

<%- include('../../partials/navbar_dashboard') -%>

<%- include('BrazingGIC_1_partials/BrazingGIC_menu') -%>

            </div>
          </li>
        </ul>

      </div>
    </nav>

<style>
  :root {
    --temp-gauge-wh : 16vh;
  }
</style>

    <!-- MAIN CONTENT -->

    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 mt-3">

      <%- include('BrazingGIC_1_partials/BrazingGIC_1_mechine_img')  %> 


      <div class="card card-body margin-5">

        <div
          class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-0 pb-2 mb-3 border-bottom">

          <h3 class="text-uppercase" style="font-weight: 700;">Temperature rc Fan </h3>

          <div class="btn-toolbar mb-2 mb-md-0"></div>


        </div>

        <!-- SELECTOR 1 : TEMP GAUGE -->
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-1 padding-card-gague" style="width:var(--w-12);">

              <div class="card text-bg-dark mb-3">
                <div class="card-header text-center">RC Fan 1</div>
                <div class="card-body">
                  <div class="">
                    <canvas id="temp1" 
                    data-type="linear-gauge"
                    data-min-value="0"
                    data-value-box="false"
                    data-max-value="100"
                    data-minor-ticks="2"
                    data-stroke-ticks="true"
                    data-color-plate="rgba(0,255,255,0)"
                    data-border-shadow-width="0"
                    data-borders="false"
                    data-needle-type="arrow"
                    data-needle-width="2"
                    data-needle-circle-size="7"
                    data-needle-circle-outer="true"
                    data-needle-circle-inner="false"
                    data-animation-duration="1500"
                    data-animation-rule="linear"
                    data-bar-width="10"
                    data-value="50"
                    style="width: var(--temp-gauge-wh);height: var(--temp-gauge-wh);"
                ></canvas>
      
                  </div>
                  
                </div>
                <div class="card-footer">
                  <h3 class="text-center m-0 temp1-value"></h3>
                </div>
              </div>
            </div>
    
            <div class="col-lg-1 padding-card-gague" style="width:var(--w-12);">
    
              <div class="card text-bg-dark mb-3">
                <div class="card-header text-center">RC Fan 2</div>
                <div class="card-body">
                  <div>
                    <canvas id="temp2" 
                    data-type="linear-gauge"
                    data-min-value="0"
                    data-value-box="false"
                    data-max-value="100"
                    data-minor-ticks="2"
                    data-stroke-ticks="true"
                    data-color-plate="rgba(0,255,255,0)"
                    data-border-shadow-width="0"
                    data-borders="false"
                    data-needle-type="arrow"
                    data-needle-width="2"
                    data-needle-circle-size="7"
                    data-needle-circle-outer="true"
                    data-needle-circle-inner="false"
                    data-animation-duration="1500"
                    data-animation-rule="linear"
                    data-bar-width="10"
                    data-value="50"
                    style="width: var(--temp-gauge-wh);height: var(--temp-gauge-wh);"
                    ></canvas>
                  </div>
                  
                  
                </div>
                <div class="card-footer">
                  <h3 class="text-center m-0 temp2-value"></h3>
                </div>
              </div>
            </div>

            <div class="col-lg-1 padding-card-gague" style="width:var(--w-12);">
    
              <div class="card text-bg-dark mb-3">
                <div class="card-header text-center">RC Fan 3</div>
                <div class="card-body">
                  
                  <div>
                    <canvas id="temp3" 
                    data-type="linear-gauge"
                    data-min-value="0"
                    data-value-box="false"
                    data-max-value="100"
                    data-minor-ticks="2"
                    data-stroke-ticks="true"
                    data-color-plate="rgba(0,255,255,0)"
                    data-border-shadow-width="0"
                    data-borders="false"
                    data-needle-type="arrow"
                    data-needle-width="2"
                    data-needle-circle-size="7"
                    data-needle-circle-outer="true"
                    data-needle-circle-inner="false"
                    data-animation-duration="1500"
                    data-animation-rule="linear"
                    data-bar-width="10"
                    data-value="50"
                    style="width: var(--temp-gauge-wh);height: var(--temp-gauge-wh);"
                    ></canvas>
                  </div>
      
                </div>
                <div class="card-footer">
                  <h3 class="text-center m-0 temp3-value"></h3>
                </div>
              </div>
            </div>

            <div class="col-lg-1 padding-card-gague" style="width:var(--w-12);">
    
              <div class="card text-bg-dark mb-3">
                <div class="card-header text-center">RC Fan 4</div>
                <div class="card-body">
                  
                  <div>
                    <canvas id="temp4" 
                    data-type="linear-gauge"
                    data-min-value="0"
                    data-value-box="false"
                    data-max-value="100"
                    data-minor-ticks="2"
                    data-stroke-ticks="true"
                    data-color-plate="rgba(0,255,255,0)"
                    data-border-shadow-width="0"
                    data-borders="false"
                    data-needle-type="arrow"
                    data-needle-width="2"
                    data-needle-circle-size="7"
                    data-needle-circle-outer="true"
                    data-needle-circle-inner="false"
                    data-animation-duration="1500"
                    data-animation-rule="linear"
                    data-bar-width="10"
                    data-value="50"
                    style="width: var(--temp-gauge-wh);height: var(--temp-gauge-wh);"
                    ></canvas>
                  </div>
      
                </div>
                <div class="card-footer">
                  <h3 class="text-center m-0 temp4-value"></h3>
                </div>
              </div>
            </div>

            <div class="col-lg-1 padding-card-gague" style="width:var(--w-12);">
    
              <div class="card text-bg-dark mb-3">
                <div class="card-header text-center">RC Fan 5</div>
                <div class="card-body">
                  
                  <div>
                    <canvas id="temp5" 
                    data-type="linear-gauge"
                    data-min-value="0"
                    data-value-box="false"
                    data-max-value="100"
                    data-minor-ticks="2"
                    data-stroke-ticks="true"
                    data-color-plate="rgba(0,255,255,0)"
                    data-border-shadow-width="0"
                    data-borders="false"
                    data-needle-type="arrow"
                    data-needle-width="2"
                    data-needle-circle-size="7"
                    data-needle-circle-outer="true"
                    data-needle-circle-inner="false"
                    data-animation-duration="1500"
                    data-animation-rule="linear"
                    data-bar-width="10"
                    data-value="50"
                    style="width: var(--temp-gauge-wh);height: var(--temp-gauge-wh);"
                    ></canvas>
                  </div>
      
                </div>
                <div class="card-footer">
                  <h3 class="text-center m-0 temp5-value"></h3>
                </div>
              </div>
            </div>

            <div class="col-lg-1 padding-card-gague" style="width:var(--w-12);">
    
              <div class="card text-bg-dark mb-3">
                <div class="card-header text-center">RC Fan 6</div>

                <div class="card-body">
                  
                  <div>
                    <canvas id="temp6" 
                    data-type="linear-gauge"
                    data-min-value="0"
                    data-value-box="false"
                    data-max-value="100"
                    data-minor-ticks="2"
                    data-stroke-ticks="true"
                    data-color-plate="rgba(0,255,255,0)"
                    data-border-shadow-width="0"
                    data-borders="false"
                    data-needle-type="arrow"
                    data-needle-width="2"
                    data-needle-circle-size="7"
                    data-needle-circle-outer="true"
                    data-needle-circle-inner="false"
                    data-animation-duration="1500"
                    data-animation-rule="linear"
                    data-bar-width="10"
                    data-value="50"
                    style="width: var(--temp-gauge-wh);height: var(--temp-gauge-wh);"
                    ></canvas>
                  </div>
      
                </div>
                <div class="card-footer">
                  <h3 class="text-center m-0 temp6-value"></h3>
                </div>
              </div>
            </div>

            <div class="col-lg-1 padding-card-gague" style="width:var(--w-12);">
    
              <div class="card text-bg-dark mb-3">
                <div class="card-header text-center">RC Fan 7</div>
                <div class="card-body">
                  
                  <div>
                    <canvas id="temp7" 
                    data-type="linear-gauge"
                    data-min-value="0"
                    data-value-box="false"
                    data-max-value="100"
                    data-minor-ticks="2"
                    data-stroke-ticks="true"
                    data-color-plate="rgba(0,255,255,0)"
                    data-border-shadow-width="0"
                    data-borders="false"
                    data-needle-type="arrow"
                    data-needle-width="2"
                    data-needle-circle-size="7"
                    data-needle-circle-outer="true"
                    data-needle-circle-inner="false"
                    data-animation-duration="1500"
                    data-animation-rule="linear"
                    data-bar-width="10"
                    data-value="50"
                    style="width: var(--temp-gauge-wh);height: var(--temp-gauge-wh);"
                    ></canvas>
                  </div>
      
                </div>
                <div class="card-footer">
                  <h3 class="text-center m-0 temp7-value"></h3>
                </div>
              </div>
            </div>

            <div class="col-lg-1 padding-card-gague" style="width:var(--w-12);">
    
              <div class="card text-bg-dark mb-3">
                <div class="card-header text-center">RC Fan 8</div>

                <div class="card-body">
                  
                  <div>
                    <canvas id="temp8" 
                    data-type="linear-gauge"
                    data-min-value="0"
                    data-value-box="false"
                    data-max-value="100"
                    data-minor-ticks="2"
                    data-stroke-ticks="true"
                    data-color-plate="rgba(0,255,255,0)"
                    data-border-shadow-width="0"
                    data-borders="false"
                    data-needle-type="arrow"
                    data-needle-width="2"
                    data-needle-circle-size="7"
                    data-needle-circle-outer="true"
                    data-needle-circle-inner="false"
                    data-animation-duration="1500"
                    data-animation-rule="linear"
                    data-bar-width="10"
                    data-value="50"
                    style="width: var(--temp-gauge-wh);height: var(--temp-gauge-wh);"
                    ></canvas>
                  </div>
      
                </div>
                <div class="card-footer">
                  <h3 class="text-center m-0 temp8-value"></h3>
                </div>
              </div>
            </div>

            <div class="col-lg-1 padding-card-gague" style="width:var(--w-12);">
    
              <div class="card text-bg-dark mb-3">
                <div class="card-header text-center">RC Fan 9</div>

                <div class="card-body">
                  
                  <div>
                    <canvas id="temp9" 
                    data-type="linear-gauge"
                    data-min-value="0"
                    data-value-box="false"
                    data-max-value="100"
                    data-minor-ticks="2"
                    data-stroke-ticks="true"
                    data-color-plate="rgba(0,255,255,0)"
                    data-border-shadow-width="0"
                    data-borders="false"
                    data-needle-type="arrow"
                    data-needle-width="2"
                    data-needle-circle-size="7"
                    data-needle-circle-outer="true"
                    data-needle-circle-inner="false"
                    data-animation-duration="1500"
                    data-animation-rule="linear"
                    data-bar-width="10"
                    data-value="50"
                    style="width: var(--temp-gauge-wh);height: var(--temp-gauge-wh);"
                    ></canvas>
                  </div>
      
                </div>
                <div class="card-footer">
                  <h3 class="text-center m-0 temp9-value"></h3>
                </div>
              </div>
            </div>


          </div>
        </div>
        

        <!-- END SELECTOR 1 : TEMP GAUGE -->

        <!-- SELECTOR 2 : TEMP CHART -->

        <div class="card card-body margin-4 ps-1 pe-1" style="height: calc(var(--main-h) + var(--chart-responsive));">

          <div class="w-100">
            <h4 class="ps-2" id="sort-header">
              Daily maximum
            </h4>
          </div>
          <div class="btn-toolbar mb-2 me-3 mb-md-0 flex-row-reverse">

            
            
            <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">
              <span data-feather="calendar" class="align-text-bottom"></span>
              <span id="sort-dropdown-title">By days</span>
            </button>
            <ul class="dropdown-menu">
              <li>
                <form method="POST" id="sort-chart-days">
                  <button class="dropdown-item" type="submit" id="sort-days">By days</button>
                </form> 
              </li>
              <li>
                <form method="POST" id="sort-chart-weeks">
                  <button class="dropdown-item" type="submit" id="sort-weeks">By weeks</button>
                </form> 
              </li>
              <li>
                <form method="POST" id="sort-chart-month">
                  <button class="dropdown-item" type="submit" id="sort-month">By month</button>
                </form> 
              </li>
            </ul>
            <p class="mb-0 me-2" style="margin-top: 0.4rem;">| Data sort</p>
            
              <div class="form-check form-switch" style="margin-top: 0.4rem;">
                
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault" checked>
              </div>
              <p class="mb-0 me-2" style="margin-top: 0.4rem;">Alarm/Warning line</p>
          </div>
          <div style="height:84%;">
            <canvas class="my-1 w-100" id="myChart"></canvas>
          </div>
          
        </div>

        <!-- END SELECTOR 2 : TEMP CHART -->

      </div>

    </main>

    <!-- END MAIN CONTENT -->

    <!-- WIP NOTIFY  -->

    <!-- <div class="toast align-items-center show position-fixed bottom-0 end-0 text-bg-warning m-2" role="alert"
      aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">
          (WIP) THIS PAGE WORKING IN PROCESS....
        </div>
      </div>
    </div> -->

    <!-- END WIP NOTIFY  -->

    <script>

      const tickLabel = parseInt("<%= setting.BrazingGIC1.Temp_fan.Zone.Alarm.value %>");
      let tickList = [0];
      for(let i = 1;i <= 5; i++) {
        tickList.push((tickLabel / 5) * i);
      }

      const temp_settings = (name) => {
        let setting = {
          renderTo: name,
          valueBox: false,
          majorTicks: tickList,
          maxValue: parseInt("<%= setting.BrazingGIC1.Temp_fan.Zone.Alarm.value %>"),
          highlights: [ 
              {"from": 0, "to": parseInt("<%= setting.BrazingGIC1.Temp_fan.Zone.Normal.value %>"), "color": "<%= setting.BrazingGIC1.Temp_fan.Zone.Normal.color %>"},
              {"from": parseInt("<%= setting.BrazingGIC1.Temp_fan.Zone.Normal.value %>"), "to": parseInt("<%= setting.BrazingGIC1.Temp_fan.Zone.Warning.value %>"), "color": "<%= setting.BrazingGIC1.Temp_fan.Zone.Warning.color %>"},
              {"from": parseInt("<%= setting.BrazingGIC1.Temp_fan.Zone.Warning.value %>"), "to": parseInt("<%= setting.BrazingGIC1.Temp_fan.Zone.Alarm.value %>"), "color": "<%= setting.BrazingGIC1.Temp_fan.Zone.Alarm.color %>"}
              ],
          barWidth: 10,
          colorMajorTicks: '#fff',
          colorNumbers: '#fff',
          colorPlate: "rgba(0,0,0,0)",
          borderShadowWidth: 0,
          borders: false,
          value: 35,
          colorBarProgress: "#FF4242" 
        }

        return setting;
      }

    var temp1 = new LinearGauge(temp_settings("temp1")).draw();

    var temp2 = new LinearGauge(temp_settings("temp2")).draw();

    var temp3 = new LinearGauge(temp_settings("temp3")).draw();

    var temp4 = new LinearGauge(temp_settings("temp4")).draw();

    var temp5 = new LinearGauge(temp_settings("temp5")).draw();

    var temp6 = new LinearGauge(temp_settings("temp6")).draw();

    var temp7 = new LinearGauge(temp_settings("temp7")).draw();

    var temp8 = new LinearGauge(temp_settings("temp8")).draw();

    var temp9 = new LinearGauge(temp_settings("temp9")).draw();

    let get_mc_data = JSON.parse("<%= mc_data %>".replace(/&#34;/g,'"'));

    temp1.value = get_mc_data.data[0].temp_1;
    $(".temp1-value").html(temp1.value + " °C");
    $(".badge-rc-1").html("RC Fan 1<br>" + temp1.value + " °C");
    temp2.value = get_mc_data.data[0].temp_2;
    $(".temp2-value").html(temp2.value + " °C");
    $(".badge-rc-2").html("RC Fan 2<br>" + temp2.value + " °C");
    temp3.value = get_mc_data.data[0].temp_3;
    $(".temp3-value").html(temp3.value + " °C");
    $(".badge-rc-3").html("RC Fan 3<br>" + temp3.value + " °C");
    temp4.value = get_mc_data.data[0].temp_4;
    $(".temp4-value").html(temp4.value + " °C");
    $(".badge-rc-4").html("RC Fan 4<br>" + temp4.value + " °C");
    temp5.value = get_mc_data.data[0].temp_5;
    $(".temp5-value").html(temp5.value + " °C");
    $(".badge-rc-5").html("RC Fan 5<br>" + temp5.value + " °C");
    temp6.value = get_mc_data.data[0].temp_6;
    $(".temp6-value").html(temp6.value + " °C");
    $(".badge-rc-6").html("RC Fan 6<br>" + temp6.value + " °C");
    temp7.value = get_mc_data.data[0].temp_7; 
    $(".temp7-value").html(temp7.value + " °C");
    $(".badge-rc-7").html("RC Fan 7<br>" + temp7.value + " °C");
    temp8.value = get_mc_data.data[0].temp_8;
    $(".temp8-value").html(temp8.value + " °C");
    $(".badge-rc-8").html("RC Fan 8<br>" + temp8.value + " °C");
    temp9.value = get_mc_data.data[0].temp_9;
    $(".temp9-value").html(temp9.value + " °C");
    $(".badge-rc-9").html("RC Fan 9<br>" + temp9.value + " °C");

    temp1.draw();
    temp2.draw();
    temp3.draw();
    temp4.draw();
    temp5.draw();
    temp6.draw();
    temp7.draw();
    temp8.draw();
    temp9.draw();

    let socket_ = new WebSocket("wss://node-red.ap.ngrok.io/ws/22060050");

    socket_.onmessage = function(event) {
      get_mc_data = JSON.parse(event.data);

      temp1.value = get_mc_data.data[0].temp_1;
      $(".temp1-value").html(temp1.value + " °C");
      $(".badge-rc-1").html("RC Fan 1<br>" + temp1.value + " °C");
      temp2.value = get_mc_data.data[0].temp_2;
      $(".temp2-value").html(temp2.value + " °C");
      $(".badge-rc-2").html("RC Fan 2<br>" + temp2.value + " °C");
      temp3.value = get_mc_data.data[0].temp_3;
      $(".temp3-value").html(temp3.value + " °C");
      $(".badge-rc-3").html("RC Fan 3<br>" + temp3.value + " °C");
      temp4.value = get_mc_data.data[0].temp_4;
      $(".temp4-value").html(temp4.value + " °C");
      $(".badge-rc-4").html("RC Fan 4<br>" + temp4.value + " °C");
      temp5.value = get_mc_data.data[0].temp_5;
      $(".temp5-value").html(temp5.value + " °C");
      $(".badge-rc-5").html("RC Fan 5<br>" + temp5.value + " °C");
      temp6.value = get_mc_data.data[0].temp_6;
      $(".temp6-value").html(temp6.value + " °C");
      $(".badge-rc-6").html("RC Fan 6<br>" + temp6.value + " °C");
      temp7.value = get_mc_data.data[0].temp_7; 
      $(".temp7-value").html(temp7.value + " °C");
      $(".badge-rc-7").html("RC Fan 7<br>" + temp7.value + " °C");
      temp8.value = get_mc_data.data[0].temp_8;
      $(".temp8-value").html(temp8.value + " °C");
      $(".badge-rc-8").html("RC Fan 8<br>" + temp8.value + " °C");
      temp9.value = get_mc_data.data[0].temp_9;
      $(".temp9-value").html(temp9.value + " °C");
      $(".badge-rc-9").html("RC Fan 9<br>" + temp9.value + " °C");
      

      temp1.draw();
      temp2.draw();
      temp3.draw();
      temp4.draw();
      temp5.draw();
      temp6.draw();
      temp7.draw();
      temp8.draw();
      temp9.draw();
    }

</script>

<script>
  
const ctx = document.getElementById('myChart');

const chart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: [],
    datasets: [{
            label: 'Temp 1',
            data: [],
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#CE872C',
            borderWidth: 1,
            pointBackgroundColor: '#CE872C'
          },
          {
            label: 'Temp 2',
            data: [],
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#7F5723',
            borderWidth: 1,
            pointBackgroundColor: '#7F5723'
          },
          {
            label: 'Temp 3',
            data: [],
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#C92626',
            borderWidth: 1,
            pointBackgroundColor: '#C92626'
          },
          {
            label: 'Temp 4',
            data: [],
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#842525',
            borderWidth: 1,
            pointBackgroundColor: '#842525'
          },
          {
            label: 'Temp 5',
            data: [],
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#C62881',
            borderWidth: 1,
            pointBackgroundColor: '#C62881'
          },
          {
            label: 'Temp 6',
            data: [],
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#7F2257',
            borderWidth: 1,
            pointBackgroundColor: '#7F2257'
          },
          {
            label: 'Temp 7',
            data: [],
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#8D2FC9',
            borderWidth: 1,
            pointBackgroundColor: '#8D2FC9'
          },
          {
            label: 'Temp 8',
            data: [],
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#541C77',
            borderWidth: 1,
            pointBackgroundColor: '#541C77'
          },
          {
            label: 'Temp 9',
            data: [],
            lineTension: 0,
            backgroundColor: 'transparent',
            borderColor: '#28BEE0',
            borderWidth: 1,
            pointBackgroundColor: '#28BEE0'
          },
    ]
  },
  options: {
    elements:{
                point:{
                    borderWidth: 0,
                    radius: 1,
                    backgroundColor: 'rgba(0,0,0,0)'
                }
              },
          legend: {
            display: true,
            labels: {
              color: '#adb5bd',
            }
          },
    scales: {
      y: {
        ticks: {
          color: '#ADB5BD',
          beginAtZero: false
        }
      },
      x: {
        ticks: {
          color: '#ADB5BD',
          beginAtZero: false
        },
        min: 0,
        max: 30,
      },
    },

    responsive: true,
    maintainAspectRatio : false,
    plugins: {
      legend : {
              labels : {
                usePointStyle : true,
                pointStyle : 'line',
                color: '#adb5bd'              
              }
            },
      annotation: {
        annotations: [
          {
            type: 'line',
            scaleID: 'y',
            value: 15,
            borderColor: 'rgb(255, 65, 65)',
            label: {
              enabled: true, 
              content: 'Alarm',
              borderWidth: 2,
              borderColor: 'transparent',
              position: 'end',
            }
          },
          {
            type: 'line',
            scaleID: 'y',
            value: 6,
            borderColor: 'rgb(255, 192, 65)',
            label: { 
              enabled: true, 
              content: 'Warning',
              borderWidth: 2,
              borderColor: 'transparent',
              position: 'end',
            }
          }
        ]
      }
    }
  }
})
</script>

</script>

<!-- CHART AJAX -->

<script>

  chart.options.plugins.annotation.annotations[0].value = 90;
  chart.options.plugins.annotation.annotations[1].value = 80;
  chart.update();

  $("#sort-days").click(() => {
    $("#sort-dropdown-title").html("By days");
    $("#sort-header").html("Daily maximum");
  });

  $("#sort-weeks").click(() => {
    $("#sort-dropdown-title").html("By weeks");
    $("#sort-header").html("Weekly maximum");
  });

  $("#sort-month").click(() => {
    $("#sort-dropdown-title").html("By month");
    $("#sort-header").html("Monthly maximum");
  });

  $("#flexSwitchCheckDefault").change(function(){
      if($(this).prop("checked") == true){
        chart.options.plugins.annotation.annotations[0].value = 90;
        chart.options.plugins.annotation.annotations[1].value = 80;
        chart.update();
      }else{
        chart.options.plugins.annotation.annotations[0].value = 0;
        chart.options.plugins.annotation.annotations[1].value = 0;
        chart.update();
      }
  });

  $(document).ready(() => {
    $.ajax({
        url: "/layout/BrazingGIC1/sort-chart-temp",
        type: "POST",
        data: {
            'type': 'days'
        },
        success: (data) => {
            chart.data.datasets[0].data = data.temp_1;
            chart.data.datasets[1].data = data.temp_2;
            chart.data.datasets[2].data = data.temp_3;
            chart.data.datasets[3].data = data.temp_4;
            chart.data.datasets[4].data = data.temp_5;
            chart.data.datasets[5].data = data.temp_6;
            chart.data.datasets[6].data = data.temp_7;
            chart.data.datasets[7].data = data.temp_8;
            chart.data.datasets[8].data = data.temp_9;

            chart.data.labels = data.label;
            chart.update();
            
        }
  });
});

  $("#sort-chart-days").submit((e) => {
    e.preventDefault();
    $.ajax({
        url: "/layout/BrazingGIC1/sort-chart-temp",
        type: "POST",
        data: {
            'type': 'days'
        },
        success: (data) => {
          chart.data.datasets[0].data = data.temp_1;
            chart.data.datasets[1].data = data.temp_2;
            chart.data.datasets[2].data = data.temp_3;
            chart.data.datasets[3].data = data.temp_4;
            chart.data.datasets[4].data = data.temp_5;
            chart.data.datasets[5].data = data.temp_6;
            chart.data.datasets[6].data = data.temp_7;
            chart.data.datasets[7].data = data.temp_8;
            chart.data.datasets[8].data = data.temp_9;

            chart.data.labels = data.label;
            chart.update();
            
        }
  });
});



$("#sort-chart-weeks").submit((e) => {
    e.preventDefault();
    $.ajax({
        url: "/layout/BrazingGIC1/sort-chart-temp",
        type: "POST",
        data: {
            'type': 'weeks'
        },
        success: (data) => {
          chart.data.datasets[0].data = data.temp_1;
          chart.data.datasets[1].data = data.temp_2;
          chart.data.datasets[2].data = data.temp_3;
          chart.data.datasets[3].data = data.temp_4;
          chart.data.datasets[4].data = data.temp_5;
          chart.data.datasets[5].data = data.temp_6;
          chart.data.datasets[6].data = data.temp_7;
          chart.data.datasets[7].data = data.temp_8;
          chart.data.datasets[8].data = data.temp_9;



          chart.data.labels = data.label;
          chart.update();
            
        }
  });
});

$("#sort-chart-month").submit((e) => {
    e.preventDefault();
    $.ajax({
        url: "/layout/BrazingGIC1/sort-chart-temp",
        type: "POST",
        data: {
            'type': 'month'
        },
        success: (data) => {
          chart.data.datasets[0].data = data.temp_1;
          chart.data.datasets[1].data = data.temp_2;
          chart.data.datasets[2].data = data.temp_3;
          chart.data.datasets[3].data = data.temp_4;
          chart.data.datasets[4].data = data.temp_5;
          chart.data.datasets[5].data = data.temp_6;
          chart.data.datasets[6].data = data.temp_7;
          chart.data.datasets[7].data = data.temp_8;
          chart.data.datasets[8].data = data.temp_9;

          chart.data.labels = data.label;
          chart.update();
            
        }
  });
});
</script>